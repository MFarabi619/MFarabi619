layout {
    default_tab_template {
        pane {
            size 1
            borderless true
            plugin location="zellij:tab-bar"
        }
        children
        pane {
            size 2
            borderless true
            plugin location="zellij:status-bar"
        }
    }
    tab name="🧮 SERVERS" focus=true split_direction="vertical" cwd="../"  {
            pane {
                name "🕹 Admin | 8000 | admin.mfarabi.dev"
                command "pnpm"
                args "nx" "dev" "admin"
            }
            pane {
            split_direction "horizontal"
            pane {
                command "pnpm"
                name "🎨 Storybook | 6006 | design.mfarabi.dev"
                args "storybook"
                start_suspended true
            }
            }
            pane split_direction="horizontal" {
                pane {
                    command "pnpm"
                    name "🏛 Architecture | 5173 | arch.mfarabi.dev"
                    args "nx" "dev" "arch"
                    start_suspended true
                }
                pane {
                    name "🗺 Project Graph - Nx | 4211 | graph.mfarabi.dev"
                    command "pnpm"
                    args "nx" "graph" "--groupByFolder"
                    start_suspended true
                }
            }

        floating_panes {
            pane {
                name "🩺 System Health - btop"
                command "btop"
            }
        }
    }

    tab name="🟩 STATUS" split_direction="vertical"  {
            pane {
                name "🍒 Git - Lazygit"
                command "lazygit"
            }

            pane {
                cwd "infra"
                name "📁 File Browser - Yazi"
                command "env"
                args "YAZI_CONFIG_HOME=./" "yazi"
            }

        floating_panes {
            pane {
                name "🧠 TGPT"
                command "tgpt"
                args "-m"
            }
        }
    }

    tab name="🔍🤨 INSPECT" split_direction="vertical" cwd="../" {
        pane {
            name "💿 DATABASE"
            command "lazysql"
            args "postgresql://postgres:postgres@127.0.0.1:54322/postgres?sslmode=disable"
            // args "./libs/db/sqlite.db"
        }
        pane {
            name "🔌 API"
            command "posting"
            args "-e" "infra/posting/dev.env" "--collection" "infra/posting"
        }
        floating_panes {
            pane {
                name "📊 Drizzle Studio | local.drizzle.studio + 👀 Schema Visualizer | 5600"
                command "pnpm"
                args "nx" "view" "db"
                start_suspended true
            }
            pane {
                name "📦 Node Modules Inspector | 7000"
                command "pnpm"
                args "node-modules-inspector" "--depth=7" "--port=7000"
                start_suspended true
            }
        }
    }
    tab name="🐳 CONTAINERS" split_direction="vertical" cwd="../" {
            pane {
                command "lazydocker"
            }
    }
}
