(platform (macos)
          (defoverrides
           (lctl bspc) (lalt bspc)
           (rctl bspc) (lalt bspc)
           (lmet left) (lalt left)
           (lmet right) (lalt right)
           )
          )
;; sudo kanata -dc ~/MFarabi619/modules/home/programs/kanata.kbd

(defcfg
 process-unmapped-keys yes
 )

(defsrc
 esc   f1   f2   f3   f4   f5   f6   f7   f8   f9   f10  f11  f12
 `     1    2    3    4    5    6    7    8    9    0    -    =    bspc   ins   home  pgup
 tab   q    w    e    r    t    y    u    i    o    p    [    ]    \      del   end   pgdn
 caps  a    s    d    f    g    h    j    k    l    ;    '         enter
 lsft  z    x    c    v    b    n    m    ,    .    /              rsft   up
 lctl  lalt lmet                   spc                   rmet  ralt  rctl  left  down  right
 )

(defvar
  tap-time 200
  hold-time 200
  )

(defalias
  lmet-mod (tap-hold $tap-time $hold-time bspc (layer-while-held nav))

  q-mod (tap-hold $tap-time $hold-time q `)
  a-mod (tap-hold $tap-time $hold-time a lmet)
  s-mod (tap-hold $tap-time $hold-time s lalt)
  d-mod (tap-hold $tap-time $hold-time d lsft)
  f-mod (tap-hold $tap-time $hold-time f rctl)

  j-mod (tap-hold $tap-time $hold-time j rctl)
  k-mod (tap-hold $tap-time $hold-time k rsft)
  l-mod (tap-hold $tap-time $hold-time l lalt)
  ;-mod (tap-hold $tap-time $hold-time ' rmet)
  '-mod (tap-hold $tap-time $hold-time enter ;)
  ,-mod (tap-hold $tap-time $hold-time , -)
  .-mod (tap-hold $tap-time $hold-time . =)
  ;; /-mod (tap-hold $tap-time $hold-time / \)

  spc-mod (tap-hold $tap-time $hold-time spc (layer-while-held symnum))
  rmet-mod (tap-hold $tap-time $hold-time tab (layer-while-held nav))

  mwu (mwheel-up 5 20)
  mwd (mwheel-down 5 20)
  mwl (mwheel-left 5 20)
  mwr (mwheel-right 5 20)

  ms↑ (movemouse-up 1 1)
  ms← (movemouse-left 1 1)
  ms↓ (movemouse-down 1 1)
  ms→ (movemouse-right 1 1)

  ma↑ (movemouse-accel-up 1 500 1 7)
  ma← (movemouse-accel-left 1 500 1 7)
  ma↓ (movemouse-accel-down 1 500 1 7)
  ma→ (movemouse-accel-right 1 500 1 7)

  sm (setmouse 32228 32228)
  fst (movemouse-speed 200)

  alt-tab (macro A-(tab))
  )

(deflayer base
          esc  🔅   🔆    ✗    ✗    ✗    ✗    ◀◀   ▶⏸   ▶▶   🔇   🔉   🔊
          `     1    2    3    4    5    6    7    8    9    0    -    =    bspc   ins   home  pgup
          tab   q    w    e    r    t    y    u    i    o    p    [    ]    \      del   end   pgdn
          lctl  @a-mod @s-mod @d-mod @f-mod g    h    @j-mod @k-mod @l-mod @;-mod @'-mod enter
          lsft  z    x    c    v    b    n    m    @,-mod    @.-mod    /              rsft   up
          lctl  lalt @lmet-mod           @spc-mod            @rmet-mod ralt rctl  left  down  right
          )

(deflayer symnum
          esc   _    _    _    _    _    _    _    _    _    _    _    _
          _     _    _    _    _    _    _    _    _    _    _    _    _    _      _     _     _
          _     @alt-tab   `   esc    _    _    _    _    _    _    \    _    _    _      _     _     _
          _     1    2    3    4    5    6    7    8    9    0    _    _    _
          _     _    _    _    _    ;    -    [   ]    =    _              _      _
          _     _    _                    _                    _     _     _       _     _
          )

(deflayer nav
          _     _     _     _     _     _     _     _     _     _     _     _     _ _ _
          _     _     _     _    _   _     _     _     _     _     _     _     _     _     _
          _      _    ◀◀    🔆    ▶▶    _     mwl     mwu    @ma↑   mwd    mwr     _     _     _     _     _     _
          _     _     🔉    🔅    🔊    _     mltp    @ma←  @ma↓  @ma→     _     _           _
          _     _     _     _     _     _      _       mrtp    _     _     _     _           _
          _     _     _                       _                       _     _     _     _     _     _
          )
